2025-02-14 11:04:01.621 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 11:04:01.915 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 11:04:02.011 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 11:04:02.012 +07:00 [INF] Hosting environment: Development
2025-02-14 11:04:02.012 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 11:04:02.524 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger - null null
2025-02-14 11:04:02.670 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger - 301 0 null 148.0568ms
2025-02-14 11:04:02.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 11:04:02.722 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 49.6359ms
2025-02-14 11:04:02.742 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui.css - null null
2025-02-14 11:04:02.743 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui-bundle.js - null null
2025-02-14 11:04:02.743 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui-standalone-preset.js - null null
2025-02-14 11:04:02.743 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 11:04:02.744 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 11:04:02.744 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.4957ms
2025-02-14 11:04:02.762 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-02-14 11:04:02.762 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-02-14 11:04:02.763 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui.css - 200 152034 text/css 20.3585ms
2025-02-14 11:04:02.763 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 19.9981ms
2025-02-14 11:04:02.779 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-02-14 11:04:02.779 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 36.1334ms
2025-02-14 11:04:02.783 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7181ms
2025-02-14 11:04:02.912 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 11:04:02.919 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.2829ms
2025-02-14 11:04:14.420 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket?categoryName=ewqewq - null null
2025-02-14 11:04:14.424 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 11:04:14.456 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 11:04:14.525 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 11:04:15.589 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[@__categoryName_1_rewritten='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0 AND [c].[CategoryName] LIKE @__categoryName_1_rewritten ESCAPE N'\'
ORDER BY [t].[TicketCode]
2025-02-14 11:04:15.610 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 11:04:15.628 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 1168.9429ms
2025-02-14 11:04:15.629 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 11:04:15.635 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket?categoryName=ewqewq - 404 null application/problem+json; charset=utf-8 1215.3866ms
2025-02-14 11:04:27.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 11:04:27.959 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 11:04:27.960 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 11:04:27.973 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 11:04:27.983 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 11:04:27.995 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 35.1032ms
2025-02-14 11:04:27.995 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 11:04:27.995 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 37.3847ms
2025-02-14 12:14:01.774 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:14:01.909 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:14:01.989 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:14:01.989 +07:00 [INF] Hosting environment: Development
2025-02-14 12:14:01.989 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:14:02.421 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:14:02.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 138.2637ms
2025-02-14 12:14:02.578 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:14:02.578 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:14:02.579 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.8155ms
2025-02-14 12:14:02.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.5224ms
2025-02-14 12:14:02.751 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:14:02.760 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5241ms
2025-02-14 12:14:50.120 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 12:14:50.125 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:14:50.149 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:14:50.194 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:14:51.029 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 12:14:51.054 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:14:51.069 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 918.0034ms
2025-02-14 12:14:51.070 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:14:51.075 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 955.4021ms
2025-02-14 12:15:07.626 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/86630603-3A48-4B76-8841-C5E8F80BF822/MUSIC002/2 - null null
2025-02-14 12:15:07.628 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:15:07.632 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:15:07.704 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:15:07.712 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 80.1556ms
2025-02-14 12:15:07.715 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:15:07.717 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at exam1_Ticket.Services.TicketService.RemoveTicket(Guid bookedTicketId, String kodeTicket, Int32 Quantity) in C:\Magang\exam1\exam1_Ticket\Services\TicketService.cs:line 327
   at exam1_Ticket.Controllers.TicketController.RevokeTicket(Guid bookedTicketId, String kodeTicket, Int32 Quantity) in C:\Magang\exam1\exam1_Ticket\Controllers\TicketController.cs:line 151
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 12:15:07.757 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/86630603-3A48-4B76-8841-C5E8F80BF822/MUSIC002/2 - 500 null text/plain; charset=utf-8 130.875ms
2025-02-14 12:23:35.920 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:23:36.057 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:23:36.133 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:23:36.133 +07:00 [INF] Hosting environment: Development
2025-02-14 12:23:36.133 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:23:36.333 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:23:36.480 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 147.7433ms
2025-02-14 12:23:36.496 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:23:36.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.2309ms
2025-02-14 12:23:36.501 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:23:36.543 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.9482ms
2025-02-14 12:23:36.606 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:23:36.613 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.0337ms
2025-02-14 12:24:15.646 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - null null
2025-02-14 12:24:15.652 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:24:15.672 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:24:15.717 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:24:16.479 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:24:16.616 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:24:16.628 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:24:16.644 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 969.6683ms
2025-02-14 12:24:16.644 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:24:16.651 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - 200 null application/json; charset=utf-8 1004.7196ms
2025-02-14 12:24:25.698 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC002/1 - null null
2025-02-14 12:24:25.700 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:24:25.704 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:24:25.747 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:24:26.070 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
2025-02-14 12:24:26.083 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId]
FROM [BookedTiket] AS [b]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:24:26.084 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-14 12:24:26.087 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 382.5541ms
2025-02-14 12:24:26.087 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:24:26.088 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC002/1 - 200 null application/json; charset=utf-8 389.3049ms
2025-02-14 12:27:26.126 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - null null
2025-02-14 12:27:26.126 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:26.126 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:26.133 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:27:26.144 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:27:26.145 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:27:26.145 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 18.8228ms
2025-02-14 12:27:26.145 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:26.145 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - 200 null application/json; charset=utf-8 19.6745ms
2025-02-14 12:27:26.946 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - null null
2025-02-14 12:27:26.946 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:26.946 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:26.948 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:27:26.949 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:27:26.949 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:27:26.950 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 3.3047ms
2025-02-14 12:27:26.950 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:26.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - 200 null application/json; charset=utf-8 3.9135ms
2025-02-14 12:27:30.380 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC001/1 - null null
2025-02-14 12:27:30.380 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:27:30.381 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:30.386 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:27:30.398 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [BookedTiket]
OUTPUT 1
WHERE [BookedTicketId] = @p0;
2025-02-14 12:27:30.403 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId]
FROM [BookedTiket] AS [b]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:27:30.404 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-14 12:27:30.405 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 24.0633ms
2025-02-14 12:27:30.405 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:27:30.405 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC001/1 - 200 null application/json; charset=utf-8 24.8292ms
2025-02-14 12:27:34.439 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC001/1 - null null
2025-02-14 12:27:34.440 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:27:34.440 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:34.441 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:27:34.442 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 2.6277ms
2025-02-14 12:27:34.443 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:27:34.443 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at exam1_Ticket.Services.TicketService.RemoveTicket(Guid bookedTicketId, String kodeTicket, Int32 Quantity) in C:\Magang\exam1\exam1_Ticket\Services\TicketService.cs:line 305
   at exam1_Ticket.Controllers.TicketController.RevokeTicket(Guid bookedTicketId, String kodeTicket, Int32 Quantity) in C:\Magang\exam1\exam1_Ticket\Controllers\TicketController.cs:line 151
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 12:27:34.463 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8/MUSIC001/1 - 500 null text/plain; charset=utf-8 23.42ms
2025-02-14 12:27:37.674 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - null null
2025-02-14 12:27:37.674 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:37.674 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:37.675 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:27:37.676 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 12:27:37.684 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 10.1832ms
2025-02-14 12:27:37.684 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:27:37.685 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/89539E95-FE0F-4714-B3E5-64486DACF5F8 - 404 null application/problem+json; charset=utf-8 10.8213ms
2025-02-14 12:27:44.105 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 12:27:44.106 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:27:44.110 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:44.134 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 12:27:44.136 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:27:44.145 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 35.3378ms
2025-02-14 12:27:44.145 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:27:44.145 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 39.9279ms
2025-02-14 12:27:52.185 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 12:27:52.185 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:27:52.187 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:27:52.223 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:27:52.245 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__quantity_1='?' (DbType = Int32), @__ticket_TicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [t]
SET [t].[Quota] = [t].[Quota] - @__quantity_1
FROM [Ticket] AS [t]
WHERE [t].[TicketId] = @__ticket_TicketId_0
2025-02-14 12:27:52.262 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTiket] ([BookedTicketId], [Quantity], [TanggalBooking], [TicketId])
VALUES (@p0, @p1, @p2, @p3);
2025-02-14 12:27:52.288 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[CategoryName], [t0].[c], [t3].[ticketCode], [t3].[ticketName], [t3].[price], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId], [t3].[TicketId0]
FROM (
    SELECT [c].[CategoryName], CONVERT(int, (
        SELECT COALESCE(SUM([t2].[Price] * CAST([b0].[Quantity] AS decimal(18,2))), 0.0)
        FROM [BookedTiket] AS [b0]
        INNER JOIN [Ticket] AS [t1] ON [b0].[TicketId] = [t1].[TicketId]
        INNER JOIN [Category] AS [c0] ON [t1].[CategoryId] = [c0].[CategoryId]
        INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
        WHERE [b0].[BookedTicketId] = @__bookedTicketId_0 AND [c].[CategoryName] = [c0].[CategoryName])) AS [c]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t5].[TicketCode] AS [ticketCode], [t5].[TicketName] AS [ticketName], [t5].[Price] * CAST([b1].[Quantity] AS decimal(18,2)) AS [price], [b1].[BookedTicketId], [t4].[TicketId], [c1].[CategoryId], [t5].[TicketId] AS [TicketId0], [c1].[CategoryName]
    FROM [BookedTiket] AS [b1]
    INNER JOIN [Ticket] AS [t4] ON [b1].[TicketId] = [t4].[TicketId]
    INNER JOIN [Category] AS [c1] ON [t4].[CategoryId] = [c1].[CategoryId]
    INNER JOIN [Ticket] AS [t5] ON [b1].[TicketId] = [t5].[TicketId]
    WHERE [b1].[BookedTicketId] = @__bookedTicketId_0
) AS [t3] ON [t0].[CategoryName] = [t3].[CategoryName]
ORDER BY [t0].[CategoryName], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId]
2025-02-14 12:27:52.290 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:27:52.295 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 107.6136ms
2025-02-14 12:27:52.295 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:27:52.295 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 110.4783ms
2025-02-14 12:33:14.966 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/5411DE11-5E2E-49C6-907F-EB0E1B7967AA - null null
2025-02-14 12:33:14.966 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:14.966 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:33:14.971 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:33:14.984 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:33:14.984 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:33:14.985 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 18.5138ms
2025-02-14 12:33:14.985 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:14.985 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/5411DE11-5E2E-49C6-907F-EB0E1B7967AA - 200 null application/json; charset=utf-8 19.2183ms
2025-02-14 12:33:21.413 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3 - null null
2025-02-14 12:33:21.413 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:21.413 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:33:21.416 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:33:21.430 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:33:21.430 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:33:21.430 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 17.0501ms
2025-02-14 12:33:21.431 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:21.431 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3 - 200 null application/json; charset=utf-8 17.4899ms
2025-02-14 12:33:31.495 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3 - null null
2025-02-14 12:33:31.495 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:31.495 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:33:31.496 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:33:31.497 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:33:31.497 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:33:31.497 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 1.9923ms
2025-02-14 12:33:31.497 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:33:31.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3 - 200 null application/json; charset=utf-8 2.4857ms
2025-02-14 12:33:33.625 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3/MUSIC001/1 - null null
2025-02-14 12:33:33.625 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:33:33.625 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:33:33.628 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:33:33.632 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
2025-02-14 12:33:33.633 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId]
FROM [BookedTiket] AS [b]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:33:33.634 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-14 12:33:33.634 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 9.0082ms
2025-02-14 12:33:33.634 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:33:33.634 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3/MUSIC001/1 - 200 null application/json; charset=utf-8 9.3914ms
2025-02-14 12:34:10.169 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3/aweaweawq/1 - null null
2025-02-14 12:34:10.170 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:34:10.170 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:34:10.171 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:34:10.174 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
2025-02-14 12:34:10.175 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId]
FROM [BookedTiket] AS [b]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:34:10.175 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType13`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-14 12:34:10.175 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 5.1638ms
2025-02-14 12:34:10.175 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:34:10.175 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/074C1A13-16FE-4A2E-989F-1EB4C97B66E3/aweaweawq/1 - 200 null application/json; charset=utf-8 5.6502ms
2025-02-14 12:35:15.147 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:35:15.272 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:35:15.340 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:35:15.340 +07:00 [INF] Hosting environment: Development
2025-02-14 12:35:15.340 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:35:15.454 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:35:15.566 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 113.0232ms
2025-02-14 12:35:15.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:35:15.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:35:15.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.465ms
2025-02-14 12:35:15.612 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.3171ms
2025-02-14 12:35:15.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:35:15.682 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.6955ms
2025-02-14 12:35:19.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:35:19.580 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 4.2906ms
2025-02-14 12:35:19.592 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:35:19.592 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:35:19.592 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.38ms
2025-02-14 12:35:19.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9565ms
2025-02-14 12:35:19.634 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:35:19.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.8063ms
2025-02-14 12:35:36.711 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - null null
2025-02-14 12:35:36.715 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:35:36.738 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:35:36.787 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:35:37.734 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:35:37.917 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:35:37.934 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:35:37.953 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 1213.3774ms
2025-02-14 12:35:37.954 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:35:37.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 200 null application/json; charset=utf-8 1252.0032ms
2025-02-14 12:35:50.617 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/asdasd/1 - null null
2025-02-14 12:35:50.619 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:35:50.626 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:35:50.675 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:35:50.736 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:35:50.738 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 111.3588ms
2025-02-14 12:35:50.738 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:35:50.738 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/asdasd/1 - 200 null application/json; charset=utf-8 121.2109ms
2025-02-14 12:36:16.362 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8/SPORT001/1 - null null
2025-02-14 12:36:16.363 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:36:16.363 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:36:16.368 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:36:16.368 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:36:16.368 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 5.302ms
2025-02-14 12:36:16.368 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:36:16.368 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8/SPORT001/1 - 200 null application/json; charset=utf-8 5.9835ms
2025-02-14 12:36:36.310 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - null null
2025-02-14 12:36:36.311 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:36:36.311 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:36:36.312 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 12:36:36.314 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 12:36:36.314 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:36:36.315 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 3.7149ms
2025-02-14 12:36:36.315 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 12:36:36.315 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 200 null application/json; charset=utf-8 4.4812ms
2025-02-14 12:36:45.180 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/6 - null null
2025-02-14 12:36:45.180 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:36:45.180 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:36:45.185 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:36:45.186 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:36:45.187 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 6.7678ms
2025-02-14 12:36:45.187 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:36:45.187 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/6 - 200 null application/json; charset=utf-8 7.1868ms
2025-02-14 12:47:49.360 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:47:49.485 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:47:49.557 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:47:49.557 +07:00 [INF] Hosting environment: Development
2025-02-14 12:47:49.557 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:47:49.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:47:49.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 111.1111ms
2025-02-14 12:47:49.745 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:47:49.745 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:47:49.747 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.7107ms
2025-02-14 12:47:49.762 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3318ms
2025-02-14 12:47:49.915 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:47:49.923 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.4784ms
2025-02-14 12:48:06.657 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/A60E77CB-8D49-4248-97D2-E57D1633E3EA/ads2ae/213 - null null
2025-02-14 12:48:06.664 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:48:06.687 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:48:06.732 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:48:07.583 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 12:48:07.672 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType11`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:48:07.680 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 990.5474ms
2025-02-14 12:48:07.680 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 12:48:07.687 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/A60E77CB-8D49-4248-97D2-E57D1633E3EA/ads2ae/213 - 200 null application/json; charset=utf-8 1029.8418ms
2025-02-14 12:50:11.862 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:50:11.869 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 7.1823ms
2025-02-14 12:50:11.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:50:11.887 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:50:11.888 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.2961ms
2025-02-14 12:50:11.899 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5811ms
2025-02-14 12:50:12.048 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:50:12.053 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.1346ms
2025-02-14 12:50:16.894 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 12:50:16.895 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:50:16.902 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:50:16.944 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 12:50:16.945 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:50:16.957 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 55.2539ms
2025-02-14 12:50:16.957 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 12:50:16.958 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 64.0608ms
2025-02-14 12:50:35.088 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 12:50:35.089 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:50:35.092 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:50:35.128 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:50:35.129 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:50:35.133 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 41.159ms
2025-02-14 12:50:35.133 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:50:35.133 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 44.7151ms
2025-02-14 12:54:51.947 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:54:52.072 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:54:52.148 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:54:52.148 +07:00 [INF] Hosting environment: Development
2025-02-14 12:54:52.148 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:54:52.359 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:54:52.473 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 115.2913ms
2025-02-14 12:54:52.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:54:52.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:54:52.489 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 2.2462ms
2025-02-14 12:54:52.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.7539ms
2025-02-14 12:54:52.561 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:54:52.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.0566ms
2025-02-14 12:55:00.400 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 68
2025-02-14 12:55:00.406 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:00.428 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:55:00.471 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:55:01.327 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:55:01.346 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:55:01.368 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 938.1517ms
2025-02-14 12:55:01.369 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:01.375 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 974.5018ms
2025-02-14 12:55:20.685 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:55:20.812 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:55:20.888 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:55:20.888 +07:00 [INF] Hosting environment: Development
2025-02-14 12:55:20.888 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:55:21.006 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:55:21.127 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 121.4817ms
2025-02-14 12:55:21.139 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:55:21.139 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:55:21.141 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.7291ms
2025-02-14 12:55:21.156 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.582ms
2025-02-14 12:55:21.178 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:55:21.187 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.5379ms
2025-02-14 12:55:25.930 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 69
2025-02-14 12:55:25.935 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:25.956 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:55:26.000 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:55:26.859 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:55:26.882 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 12:55:26.894 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 935.6075ms
2025-02-14 12:55:26.894 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:26.901 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 500 null application/problem+json; charset=utf-8 971.6049ms
2025-02-14 12:55:34.547 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 68
2025-02-14 12:55:34.548 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:34.549 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:55:34.556 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:55:34.557 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 12:55:34.557 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 8.1759ms
2025-02-14 12:55:34.557 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:34.558 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 500 null application/problem+json; charset=utf-8 10.6315ms
2025-02-14 12:55:47.364 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 12:55:47.364 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:47.364 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:55:47.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:55:47.367 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 12:55:47.368 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 3.5506ms
2025-02-14 12:55:47.368 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:55:47.368 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 500 null application/problem+json; charset=utf-8 4.1871ms
2025-02-14 12:56:02.069 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:56:02.196 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:56:02.262 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:56:02.262 +07:00 [INF] Hosting environment: Development
2025-02-14 12:56:02.263 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:56:02.392 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:56:02.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 110.8826ms
2025-02-14 12:56:02.512 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:56:02.512 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:56:02.514 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.6576ms
2025-02-14 12:56:02.529 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.3126ms
2025-02-14 12:56:02.557 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:56:02.565 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.7791ms
2025-02-14 12:56:04.479 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:56:04.484 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 4.4847ms
2025-02-14 12:56:04.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:56:04.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:56:04.497 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.2735ms
2025-02-14 12:56:04.503 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9757ms
2025-02-14 12:56:04.537 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:56:04.541 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.9653ms
2025-02-14 12:56:07.769 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 12:56:07.773 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:56:07.793 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:56:07.839 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:56:08.704 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:56:08.725 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:56:08.747 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 950.8976ms
2025-02-14 12:56:08.747 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:56:08.753 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 984.4957ms
2025-02-14 12:56:57.276 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:56:57.406 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:56:57.475 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:56:57.475 +07:00 [INF] Hosting environment: Development
2025-02-14 12:56:57.475 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:56:57.622 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:56:57.740 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 118.3527ms
2025-02-14 12:56:57.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:56:57.752 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:56:57.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.572ms
2025-02-14 12:56:57.773 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.5058ms
2025-02-14 12:56:57.798 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:56:57.804 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.914ms
2025-02-14 12:57:02.680 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 12:57:02.685 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:02.703 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:57:02.748 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:57:03.608 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:57:03.628 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:57:03.638 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 932.1867ms
2025-02-14 12:57:03.638 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:03.644 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 964.1653ms
2025-02-14 12:57:26.414 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 12:57:26.416 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:26.417 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:57:26.431 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:57:26.432 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:57:26.432 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 15.821ms
2025-02-14 12:57:26.433 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:26.433 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 18.6872ms
2025-02-14 12:57:38.090 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 58
2025-02-14 12:57:38.090 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:38.090 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:57:38.098 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:57:38.099 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:57:38.099 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 8.7786ms
2025-02-14 12:57:38.099 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:57:38.099 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 9.5822ms
2025-02-14 12:58:24.447 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 12:58:24.580 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 12:58:24.651 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 12:58:24.651 +07:00 [INF] Hosting environment: Development
2025-02-14 12:58:24.651 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 12:58:24.801 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 12:58:24.912 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 111.5107ms
2025-02-14 12:58:24.925 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 12:58:24.925 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 12:58:24.927 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.715ms
2025-02-14 12:58:24.941 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3275ms
2025-02-14 12:58:24.995 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 12:58:25.002 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.3384ms
2025-02-14 12:58:28.832 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 12:58:28.837 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:58:28.858 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 12:58:28.903 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 12:58:29.823 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 12:58:29.846 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 12:58:29.855 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 994.0726ms
2025-02-14 12:58:29.855 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 12:58:29.861 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 1029.248ms
2025-02-14 13:00:51.941 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:00:52.067 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:00:52.132 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:00:52.132 +07:00 [INF] Hosting environment: Development
2025-02-14 13:00:52.132 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:00:52.252 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:00:52.366 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 114.923ms
2025-02-14 13:00:52.376 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:00:52.376 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:00:52.378 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.6851ms
2025-02-14 13:00:52.398 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.8916ms
2025-02-14 13:00:52.446 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:00:52.452 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.0605ms
2025-02-14 13:00:55.591 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:00:55.595 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 4.2494ms
2025-02-14 13:00:55.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:00:55.608 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:00:55.608 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.2323ms
2025-02-14 13:00:55.614 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.9836ms
2025-02-14 13:00:55.685 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:00:55.688 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 3.1559ms
2025-02-14 13:00:59.348 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:00:59.353 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:00:59.372 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:00:59.420 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:01:00.289 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:01:00.309 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:01:00.318 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 942.9282ms
2025-02-14 13:01:00.318 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:01:00.324 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 976.1621ms
2025-02-14 13:01:33.892 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 57
2025-02-14 13:01:33.893 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:01:33.894 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:01:33.904 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:01:33.905 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:01:33.906 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 12.0361ms
2025-02-14 13:01:33.906 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:01:33.906 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 13.8981ms
2025-02-14 13:01:57.362 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:01:57.509 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:01:57.587 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:01:57.587 +07:00 [INF] Hosting environment: Development
2025-02-14 13:01:57.587 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:01:57.661 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:01:57.774 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 114.2911ms
2025-02-14 13:01:57.787 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:01:57.787 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:01:57.789 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.8343ms
2025-02-14 13:01:57.803 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3806ms
2025-02-14 13:01:57.832 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:01:57.839 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.2706ms
2025-02-14 13:02:00.614 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:02:00.619 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:02:00.639 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:02:00.687 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:02:01.545 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:02:01.566 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:02:01.575 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 933.3904ms
2025-02-14 13:02:01.575 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:02:01.582 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 967.6417ms
2025-02-14 13:02:19.151 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 58
2025-02-14 13:02:19.153 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:02:19.153 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:02:19.163 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:02:19.164 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:02:19.164 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 11.6285ms
2025-02-14 13:02:19.165 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:02:19.165 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 13.5067ms
2025-02-14 13:06:31.173 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:06:31.301 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:06:31.393 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:06:31.393 +07:00 [INF] Hosting environment: Development
2025-02-14 13:06:31.393 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:06:31.487 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:06:31.600 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 113.1967ms
2025-02-14 13:06:31.615 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:06:31.615 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:06:31.616 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.6683ms
2025-02-14 13:06:31.637 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.0553ms
2025-02-14 13:06:31.663 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:06:31.671 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.1259ms
2025-02-14 13:06:34.980 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:06:34.985 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:35.005 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:35.055 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:06:35.911 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:35.931 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:35.943 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 934.5915ms
2025-02-14 13:06:35.943 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:35.949 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 968.62ms
2025-02-14 13:06:49.859 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:06:49.860 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:49.861 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:49.869 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:49.869 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:49.870 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 8.8348ms
2025-02-14 13:06:49.870 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:49.870 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 11.2067ms
2025-02-14 13:06:51.121 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:06:51.121 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.121 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:51.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:51.125 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:51.125 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 3.6426ms
2025-02-14 13:06:51.125 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.125 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 4.2819ms
2025-02-14 13:06:51.481 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:06:51.482 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.482 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:51.483 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:51.484 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:51.484 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 2.1475ms
2025-02-14 13:06:51.484 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.484 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 2.6722ms
2025-02-14 13:06:51.678 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:06:51.678 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.678 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:51.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:51.680 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:51.680 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 2.1709ms
2025-02-14 13:06:51.680 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.681 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 2.7817ms
2025-02-14 13:06:51.862 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:06:51.862 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.862 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:51.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:06:51.864 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:06:51.864 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 1.9155ms
2025-02-14 13:06:51.864 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:06:51.864 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 2.5199ms
2025-02-14 13:06:55.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 13:06:55.910 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:06:55.915 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:06:55.943 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 13:06:55.949 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:06:55.958 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 42.9155ms
2025-02-14 13:06:55.959 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:06:55.959 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 48.6854ms
2025-02-14 13:07:01.890 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 61
2025-02-14 13:07:01.890 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:01.890 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:07:01.895 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:07:01.895 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:07:01.896 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 5.3259ms
2025-02-14 13:07:01.896 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:01.896 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 5.7579ms
2025-02-14 13:07:04.290 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 61
2025-02-14 13:07:04.291 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.291 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:07:04.296 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:07:04.296 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:07:04.296 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 5.5356ms
2025-02-14 13:07:04.296 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.297 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 6.0226ms
2025-02-14 13:07:04.729 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 61
2025-02-14 13:07:04.729 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.729 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:07:04.731 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:07:04.731 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:07:04.731 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 1.9558ms
2025-02-14 13:07:04.731 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.731 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 2.5762ms
2025-02-14 13:07:04.913 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 61
2025-02-14 13:07:04.913 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.913 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:07:04.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:07:04.915 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:07:04.915 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 1.8715ms
2025-02-14 13:07:04.915 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:04.915 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 2.282ms
2025-02-14 13:07:31.733 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:07:31.733 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:31.733 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:07:31.738 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:07:31.764 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__quantity_1='?' (DbType = Int32), @__ticket_TicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [t]
SET [t].[Quota] = [t].[Quota] - @__quantity_1
FROM [Ticket] AS [t]
WHERE [t].[TicketId] = @__ticket_TicketId_0
2025-02-14 13:07:31.872 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTiket] ([BookedTicketId], [Quantity], [TanggalBooking], [TicketId])
VALUES (@p0, @p1, @p2, @p3);
2025-02-14 13:07:31.951 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[CategoryName], [t0].[c], [t3].[ticketCode], [t3].[ticketName], [t3].[price], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId], [t3].[TicketId0]
FROM (
    SELECT [c].[CategoryName], CONVERT(int, (
        SELECT COALESCE(SUM([t2].[Price] * CAST([b0].[Quantity] AS decimal(18,2))), 0.0)
        FROM [BookedTiket] AS [b0]
        INNER JOIN [Ticket] AS [t1] ON [b0].[TicketId] = [t1].[TicketId]
        INNER JOIN [Category] AS [c0] ON [t1].[CategoryId] = [c0].[CategoryId]
        INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
        WHERE [b0].[BookedTicketId] = @__bookedTicketId_0 AND [c].[CategoryName] = [c0].[CategoryName])) AS [c]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t5].[TicketCode] AS [ticketCode], [t5].[TicketName] AS [ticketName], [t5].[Price] * CAST([b1].[Quantity] AS decimal(18,2)) AS [price], [b1].[BookedTicketId], [t4].[TicketId], [c1].[CategoryId], [t5].[TicketId] AS [TicketId0], [c1].[CategoryName]
    FROM [BookedTiket] AS [b1]
    INNER JOIN [Ticket] AS [t4] ON [b1].[TicketId] = [t4].[TicketId]
    INNER JOIN [Category] AS [c1] ON [t4].[CategoryId] = [c1].[CategoryId]
    INNER JOIN [Ticket] AS [t5] ON [b1].[TicketId] = [t5].[TicketId]
    WHERE [b1].[BookedTicketId] = @__bookedTicketId_0
) AS [t3] ON [t0].[CategoryName] = [t3].[CategoryName]
ORDER BY [t0].[CategoryName], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId]
2025-02-14 13:07:31.956 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:07:31.956 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 222.5232ms
2025-02-14 13:07:31.956 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:07:31.956 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 223.0797ms
2025-02-14 13:09:30.866 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:09:30.992 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:09:31.070 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:09:31.071 +07:00 [INF] Hosting environment: Development
2025-02-14 13:09:31.071 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:09:31.178 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:09:31.299 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 122.4267ms
2025-02-14 13:09:31.318 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:09:31.318 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:09:31.320 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 2.1157ms
2025-02-14 13:09:31.341 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.6078ms
2025-02-14 13:09:31.400 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:09:31.416 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.0684ms
2025-02-14 13:09:35.682 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:09:35.687 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:09:35.709 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:09:35.758 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:09:36.651 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:09:36.673 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:09:36.683 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 971.0195ms
2025-02-14 13:09:36.683 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:09:36.690 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 1007.8414ms
2025-02-14 13:10:54.147 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 13:10:54.148 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:10:54.154 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:10:54.188 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 13:10:54.196 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:10:54.209 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 54.9606ms
2025-02-14 13:10:54.209 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:10:54.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 62.9361ms
2025-02-14 13:11:00.573 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:11:00.573 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:00.573 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:11:00.582 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:11:00.611 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__quantity_1='?' (DbType = Int32), @__ticket_TicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [t]
SET [t].[Quota] = [t].[Quota] - @__quantity_1
FROM [Ticket] AS [t]
WHERE [t].[TicketId] = @__ticket_TicketId_0
2025-02-14 13:11:00.719 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTiket] ([BookedTicketId], [Quantity], [TanggalBooking], [TicketId])
VALUES (@p0, @p1, @p2, @p3);
2025-02-14 13:11:00.801 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[CategoryName], [t0].[c], [t3].[ticketCode], [t3].[ticketName], [t3].[price], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId], [t3].[TicketId0]
FROM (
    SELECT [c].[CategoryName], CONVERT(int, (
        SELECT COALESCE(SUM([t2].[Price] * CAST([b0].[Quantity] AS decimal(18,2))), 0.0)
        FROM [BookedTiket] AS [b0]
        INNER JOIN [Ticket] AS [t1] ON [b0].[TicketId] = [t1].[TicketId]
        INNER JOIN [Category] AS [c0] ON [t1].[CategoryId] = [c0].[CategoryId]
        INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
        WHERE [b0].[BookedTicketId] = @__bookedTicketId_0 AND [c].[CategoryName] = [c0].[CategoryName])) AS [c]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t5].[TicketCode] AS [ticketCode], [t5].[TicketName] AS [ticketName], [t5].[Price] * CAST([b1].[Quantity] AS decimal(18,2)) AS [price], [b1].[BookedTicketId], [t4].[TicketId], [c1].[CategoryId], [t5].[TicketId] AS [TicketId0], [c1].[CategoryName]
    FROM [BookedTiket] AS [b1]
    INNER JOIN [Ticket] AS [t4] ON [b1].[TicketId] = [t4].[TicketId]
    INNER JOIN [Category] AS [c1] ON [t4].[CategoryId] = [c1].[CategoryId]
    INNER JOIN [Ticket] AS [t5] ON [b1].[TicketId] = [t5].[TicketId]
    WHERE [b1].[BookedTicketId] = @__bookedTicketId_0
) AS [t3] ON [t0].[CategoryName] = [t3].[CategoryName]
ORDER BY [t0].[CategoryName], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId]
2025-02-14 13:11:00.805 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:11:00.809 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 235.7929ms
2025-02-14 13:11:00.809 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:00.809 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 236.7783ms
2025-02-14 13:11:24.175 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:11:24.176 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:24.176 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:11:24.181 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:11:24.186 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__quantity_1='?' (DbType = Int32), @__ticket_TicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [t]
SET [t].[Quota] = [t].[Quota] - @__quantity_1
FROM [Ticket] AS [t]
WHERE [t].[TicketId] = @__ticket_TicketId_0
2025-02-14 13:11:24.191 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTiket] ([BookedTicketId], [Quantity], [TanggalBooking], [TicketId])
VALUES (@p0, @p1, @p2, @p3);
2025-02-14 13:11:24.209 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[CategoryName], [t0].[c], [t3].[ticketCode], [t3].[ticketName], [t3].[price], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId], [t3].[TicketId0]
FROM (
    SELECT [c].[CategoryName], CONVERT(int, (
        SELECT COALESCE(SUM([t2].[Price] * CAST([b0].[Quantity] AS decimal(18,2))), 0.0)
        FROM [BookedTiket] AS [b0]
        INNER JOIN [Ticket] AS [t1] ON [b0].[TicketId] = [t1].[TicketId]
        INNER JOIN [Category] AS [c0] ON [t1].[CategoryId] = [c0].[CategoryId]
        INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
        WHERE [b0].[BookedTicketId] = @__bookedTicketId_0 AND [c].[CategoryName] = [c0].[CategoryName])) AS [c]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t5].[TicketCode] AS [ticketCode], [t5].[TicketName] AS [ticketName], [t5].[Price] * CAST([b1].[Quantity] AS decimal(18,2)) AS [price], [b1].[BookedTicketId], [t4].[TicketId], [c1].[CategoryId], [t5].[TicketId] AS [TicketId0], [c1].[CategoryName]
    FROM [BookedTiket] AS [b1]
    INNER JOIN [Ticket] AS [t4] ON [b1].[TicketId] = [t4].[TicketId]
    INNER JOIN [Category] AS [c1] ON [t4].[CategoryId] = [c1].[CategoryId]
    INNER JOIN [Ticket] AS [t5] ON [b1].[TicketId] = [t5].[TicketId]
    WHERE [b1].[BookedTicketId] = @__bookedTicketId_0
) AS [t3] ON [t0].[CategoryName] = [t3].[CategoryName]
ORDER BY [t0].[CategoryName], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId]
2025-02-14 13:11:24.209 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:11:24.209 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 33.6482ms
2025-02-14 13:11:24.209 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:24.210 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 34.3049ms
2025-02-14 13:11:29.718 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:11:29.843 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:11:29.916 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:11:29.917 +07:00 [INF] Hosting environment: Development
2025-02-14 13:11:29.917 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:11:30.010 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:11:30.127 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 117.3203ms
2025-02-14 13:11:30.141 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:11:30.141 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:11:30.142 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.3671ms
2025-02-14 13:11:30.164 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2158ms
2025-02-14 13:11:30.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:11:30.215 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.6235ms
2025-02-14 13:11:35.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 13:11:35.311 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:11:35.331 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:11:35.376 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:11:36.203 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 13:11:36.227 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:11:36.244 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 909.5806ms
2025-02-14 13:11:36.244 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:11:36.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 944.2075ms
2025-02-14 13:11:45.265 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 59
2025-02-14 13:11:45.266 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:45.270 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:11:45.338 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:11:45.364 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__quantity_1='?' (DbType = Int32), @__ticket_TicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [t]
SET [t].[Quota] = [t].[Quota] - @__quantity_1
FROM [Ticket] AS [t]
WHERE [t].[TicketId] = @__ticket_TicketId_0
2025-02-14 13:11:45.470 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BookedTiket] ([BookedTicketId], [Quantity], [TanggalBooking], [TicketId])
VALUES (@p0, @p1, @p2, @p3);
2025-02-14 13:11:45.550 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[CategoryName], [t0].[c], [t3].[ticketCode], [t3].[ticketName], [t3].[price], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId], [t3].[TicketId0]
FROM (
    SELECT [c].[CategoryName], CONVERT(int, (
        SELECT COALESCE(SUM([t2].[Price] * CAST([b0].[Quantity] AS decimal(18,2))), 0.0)
        FROM [BookedTiket] AS [b0]
        INNER JOIN [Ticket] AS [t1] ON [b0].[TicketId] = [t1].[TicketId]
        INNER JOIN [Category] AS [c0] ON [t1].[CategoryId] = [c0].[CategoryId]
        INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
        WHERE [b0].[BookedTicketId] = @__bookedTicketId_0 AND [c].[CategoryName] = [c0].[CategoryName])) AS [c]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t5].[TicketCode] AS [ticketCode], [t5].[TicketName] AS [ticketName], [t5].[Price] * CAST([b1].[Quantity] AS decimal(18,2)) AS [price], [b1].[BookedTicketId], [t4].[TicketId], [c1].[CategoryId], [t5].[TicketId] AS [TicketId0], [c1].[CategoryName]
    FROM [BookedTiket] AS [b1]
    INNER JOIN [Ticket] AS [t4] ON [b1].[TicketId] = [t4].[TicketId]
    INNER JOIN [Category] AS [c1] ON [t4].[CategoryId] = [c1].[CategoryId]
    INNER JOIN [Ticket] AS [t5] ON [b1].[TicketId] = [t5].[TicketId]
    WHERE [b1].[BookedTicketId] = @__bookedTicketId_0
) AS [t3] ON [t0].[CategoryName] = [t3].[CategoryName]
ORDER BY [t0].[CategoryName], [t3].[BookedTicketId], [t3].[TicketId], [t3].[CategoryId]
2025-02-14 13:11:45.555 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:11:45.563 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 293.0281ms
2025-02-14 13:11:45.564 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:45.564 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 298.9942ms
2025-02-14 13:11:57.171 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 57
2025-02-14 13:11:57.171 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:57.171 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:11:57.180 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:11:57.181 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:11:57.182 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 11.1473ms
2025-02-14 13:11:57.183 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:11:57.183 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 12.1137ms
2025-02-14 13:13:56.574 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:13:56.696 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:13:56.765 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:13:56.765 +07:00 [INF] Hosting environment: Development
2025-02-14 13:13:56.765 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:13:56.848 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:13:56.993 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 145.1443ms
2025-02-14 13:13:57.012 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:13:57.013 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:13:57.014 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.3449ms
2025-02-14 13:13:57.033 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.3246ms
2025-02-14 13:13:57.119 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:13:57.126 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.1394ms
2025-02-14 13:14:02.747 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:14:02.767 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 20.6468ms
2025-02-14 13:14:02.782 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:14:02.782 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:14:02.782 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.4561ms
2025-02-14 13:14:02.790 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.3302ms
2025-02-14 13:14:02.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:14:02.827 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2.6324ms
2025-02-14 13:14:05.356 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:14:05.361 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:14:05.380 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:14:05.429 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:14:06.332 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:14:06.352 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:14:06.361 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 978.6951ms
2025-02-14 13:14:06.362 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:14:06.368 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 1011.5463ms
2025-02-14 13:14:22.161 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:14:22.280 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:14:22.349 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:14:22.349 +07:00 [INF] Hosting environment: Development
2025-02-14 13:14:22.349 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:14:22.463 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:14:22.573 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 110.89ms
2025-02-14 13:14:22.582 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:14:22.582 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:14:22.583 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.5461ms
2025-02-14 13:14:22.598 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.3071ms
2025-02-14 13:14:22.625 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:14:22.632 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.871ms
2025-02-14 13:14:31.014 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 58
2025-02-14 13:14:31.020 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:14:31.042 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:14:31.096 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:14:32.090 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString), @__quantity_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0 AND [t].[Quota] >= @__quantity_1
2025-02-14 13:14:32.110 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:14:32.121 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 1076.2361ms
2025-02-14 13:14:32.122 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:14:32.129 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 200 null application/json; charset=utf-8 1114.8948ms
2025-02-14 13:16:12.274 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:16:12.417 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:16:12.495 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:16:12.496 +07:00 [INF] Hosting environment: Development
2025-02-14 13:16:12.496 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:16:12.500 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:16:12.621 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 121.9077ms
2025-02-14 13:16:12.631 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:16:12.631 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:16:12.633 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.8324ms
2025-02-14 13:16:12.654 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.4822ms
2025-02-14 13:16:12.696 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:16:12.704 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.9866ms
2025-02-14 13:16:52.845 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:16:52.976 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:16:53.046 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:16:53.046 +07:00 [INF] Hosting environment: Development
2025-02-14 13:16:53.047 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:16:53.145 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:16:53.252 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 108.0463ms
2025-02-14 13:16:53.260 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:16:53.260 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:16:53.262 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.6415ms
2025-02-14 13:16:53.277 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.356ms
2025-02-14 13:16:53.318 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:16:53.323 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.554ms
2025-02-14 13:16:55.581 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:16:55.585 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 4.2221ms
2025-02-14 13:16:55.599 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:16:55.599 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:16:55.599 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.4133ms
2025-02-14 13:16:55.607 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.0054ms
2025-02-14 13:16:55.644 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:16:55.649 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4.8812ms
2025-02-14 13:16:57.732 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 66
2025-02-14 13:16:57.737 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:16:57.757 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:16:57.804 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:16:58.695 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0
2025-02-14 13:16:58.717 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:16:58.730 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 970.921ms
2025-02-14 13:16:58.730 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:16:58.736 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 404 null application/problem+json; charset=utf-8 1004.1221ms
2025-02-14 13:17:05.916 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 13:17:05.917 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:17:05.923 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:17:05.954 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 13:17:05.960 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:17:05.971 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 48.1006ms
2025-02-14 13:17:05.972 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:17:05.972 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 55.8878ms
2025-02-14 13:17:21.158 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - application/json 60
2025-02-14 13:17:21.159 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:17:21.159 +07:00 [INF] Route matched with {action = "BookTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BookTicket(System.Collections.Generic.List`1[BookedTiketRequest]) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:17:21.167 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[TicketCode], [t].[TicketName], [t].[Price], [c].[CategoryName], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[TicketCode] = @__ticketCode_0
2025-02-14 13:17:21.169 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:17:21.169 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket) in 10.1794ms
2025-02-14 13:17:21.169 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.BookTicket (exam1_Ticket)'
2025-02-14 13:17:21.169 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5038/api/v1/book-ticket - 400 null application/problem+json; charset=utf-8 10.8325ms
2025-02-14 13:17:52.080 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8 - null null
2025-02-14 13:17:52.080 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:17:52.084 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:17:52.103 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 13:17:52.105 +07:00 [INF] Executing NotFoundObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:17:52.105 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 20.8159ms
2025-02-14 13:17:52.105 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:17:52.105 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8 - 404 null application/problem+json; charset=utf-8 25.0965ms
2025-02-14 13:18:05.626 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8/sadasd/2141 - null null
2025-02-14 13:18:05.626 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:18:05.629 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:18:05.668 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:18:05.669 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType9`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:18:05.670 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 41.3631ms
2025-02-14 13:18:05.670 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:18:05.671 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/23EDFE0E-AD08-4015-9EBE-D75B8E15DFC8/sadasd/2141 - 200 null application/json; charset=utf-8 44.9226ms
2025-02-14 13:37:18.248 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:37:18.500 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:37:18.642 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:37:18.642 +07:00 [INF] Hosting environment: Development
2025-02-14 13:37:18.642 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:37:18.715 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:37:18.933 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 219.1507ms
2025-02-14 13:37:18.960 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:37:18.960 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:37:18.963 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.5796ms
2025-02-14 13:37:18.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.1279ms
2025-02-14 13:37:19.235 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:37:19.254 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.8414ms
2025-02-14 13:37:29.327 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/86630603-3A48-4B76-8841-C5E8F80BF822/asdasd/213 - null null
2025-02-14 13:37:29.336 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:37:29.375 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:37:29.468 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:37:31.245 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:37:31.290 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:37:31.311 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 1932.0073ms
2025-02-14 13:37:31.311 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:37:31.326 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/86630603-3A48-4B76-8841-C5E8F80BF822/asdasd/213 - 404 null application/problem+json; charset=utf-8 1999.6361ms
2025-02-14 13:37:47.341 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - null null
2025-02-14 13:37:47.344 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:37:47.352 +07:00 [INF] Route matched with {action = "GetAvailableTickets", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableTickets(System.String, System.String, System.String, System.Nullable`1[System.Decimal], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.String, System.String) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:37:47.406 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [t].[TanggalEvent], [t].[Price], [t].[Quota]
FROM [Ticket] AS [t]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [t].[Quota] > 0
ORDER BY [t].[TicketCode]
2025-02-14 13:37:47.417 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[exam1_Ticket.Model.TicketModel, exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:37:47.437 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket) in 84.6649ms
2025-02-14 13:37:47.437 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetAvailableTickets (exam1_Ticket)'
2025-02-14 13:37:47.438 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-available-ticket - 200 null application/json; charset=utf-8 96.4103ms
2025-02-14 13:37:52.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - null null
2025-02-14 13:37:52.835 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:37:52.838 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:37:52.864 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 13:37:52.953 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 13:37:52.959 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:37:52.971 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 132.0356ms
2025-02-14 13:37:52.971 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:37:52.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 200 null application/json; charset=utf-8 136.6037ms
2025-02-14 13:37:57.261 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/asdasd/213 - null null
2025-02-14 13:37:57.261 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:37:57.262 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:37:57.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:37:57.356 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:37:57.356 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 94.0742ms
2025-02-14 13:37:57.356 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:37:57.356 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/asdasd/213 - 400 null application/problem+json; charset=utf-8 95.2473ms
2025-02-14 13:38:09.070 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/213 - null null
2025-02-14 13:38:09.071 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:38:09.071 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:38:09.077 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:38:09.078 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-14 13:38:09.079 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 7.8668ms
2025-02-14 13:38:09.079 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:38:09.079 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/213 - 400 null application/problem+json; charset=utf-8 8.6466ms
2025-02-14 13:38:15.476 +07:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/1 - null null
2025-02-14 13:38:15.476 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:38:15.476 +07:00 [INF] Route matched with {action = "RevokeTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RevokeTicket(System.Guid, System.String, Int32) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:38:15.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:38:15.579 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
2025-02-14 13:38:15.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId]
FROM [BookedTiket] AS [b]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:38:15.594 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType9`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-14 13:38:15.598 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket) in 121.8135ms
2025-02-14 13:38:15.598 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.RevokeTicket (exam1_Ticket)'
2025-02-14 13:38:15.598 +07:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5038/api/v1/revoke-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E/SPORT001/1 - 200 null application/json; charset=utf-8 122.5531ms
2025-02-14 13:40:55.254 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - application/json 84
2025-02-14 13:40:55.255 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:40:55.264 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:40:55.301 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:40:55.302 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:40:55.303 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 39.4822ms
2025-02-14 13:40:55.303 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:40:55.303 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - 404 null application/json; charset=utf-8 49.1065ms
2025-02-14 13:41:12.891 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - application/json 86
2025-02-14 13:41:12.891 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:12.891 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:41:12.896 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:41:12.897 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:41:12.897 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 5.7289ms
2025-02-14 13:41:12.897 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:12.897 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - 404 null application/json; charset=utf-8 6.2438ms
2025-02-14 13:41:21.144 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - application/json 86
2025-02-14 13:41:21.144 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:21.144 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:41:21.149 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:41:21.150 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:41:21.150 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 5.1833ms
2025-02-14 13:41:21.150 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:21.150 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/86630603-3A48-4B76-8841-C5E8F80BF822 - 404 null application/json; charset=utf-8 5.6976ms
2025-02-14 13:41:43.614 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 88
2025-02-14 13:41:43.614 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:43.614 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:41:43.618 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:41:43.627 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:41:43.627 +07:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:41:43.628 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 13.6661ms
2025-02-14 13:41:43.628 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:43.628 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 404 null application/json; charset=utf-8 14.252ms
2025-02-14 13:41:56.531 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 86
2025-02-14 13:41:56.531 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:56.531 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:41:56.538 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:41:56.542 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:41:56.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:41:56.575 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p10='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Date), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
UPDATE [Ticket] SET [CategoryId] = @p4, [Price] = @p5, [Quota] = @p6, [TanggalEvent] = @p7, [TicketCode] = @p8, [TicketName] = @p9
OUTPUT 1
WHERE [TicketId] = @p10;
2025-02-14 13:41:56.610 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Ticket.Entites.AccelokaDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-14 13:41:56.612 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 80.7156ms
2025-02-14 13:41:56.613 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:41:56.614 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at exam1_Ticket.Services.TicketService.EditBookedTicket(Guid bookedTicketId, EditBookedTicketRequest request) in C:\Magang\exam1\exam1_Ticket\Services\TicketService.cs:line 476
   at exam1_Ticket.Controllers.TicketController.EditBookedTicket(Guid BookedTicketId, EditBookedTicketRequest request) in C:\Magang\exam1\exam1_Ticket\Controllers\TicketController.cs:line 235
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 13:41:56.631 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 500 null text/plain; charset=utf-8 100.1145ms
2025-02-14 13:42:06.982 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 86
2025-02-14 13:42:06.982 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:42:06.982 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:42:06.983 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:42:06.984 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:42:06.988 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:42:06.990 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p10='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Date), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
UPDATE [Ticket] SET [CategoryId] = @p4, [Price] = @p5, [Quota] = @p6, [TanggalEvent] = @p7, [TicketCode] = @p8, [TicketName] = @p9
OUTPUT 1
WHERE [TicketId] = @p10;
2025-02-14 13:42:07.002 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TicketCode], [t].[TicketName], [c].[CategoryName], [b].[Quantity], [t].[Quota] AS [SisaQuota]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:42:07.002 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType12`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType11`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], exam1_Ticket, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:42:07.005 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 22.9975ms
2025-02-14 13:42:07.005 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:42:07.005 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 200 null application/json; charset=utf-8 23.6646ms
2025-02-14 13:42:17.411 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 86
2025-02-14 13:42:17.412 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:42:17.412 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:42:17.413 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:42:17.415 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:42:17.416 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:42:17.418 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p10='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Date), @p8='?' (Size = 20) (DbType = AnsiString), @p9='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [BookedTiket] SET [Quantity] = @p0, [TanggalBooking] = @p1, [TicketId] = @p2
OUTPUT 1
WHERE [BookedTicketId] = @p3;
UPDATE [Ticket] SET [CategoryId] = @p4, [Price] = @p5, [Quota] = @p6, [TanggalEvent] = @p7, [TicketCode] = @p8, [TicketName] = @p9
OUTPUT 1
WHERE [TicketId] = @p10;
2025-02-14 13:42:17.420 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Ticket.Entites.AccelokaDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-02-14 13:42:17.421 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 9.7834ms
2025-02-14 13:42:17.422 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:42:17.422 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the CHECK constraint "CK__BookedTik__Quant__2645B050". The conflict occurred in database "AccelokaDB", table "dbo.BookedTiket", column 'Quantity'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:32ef7cc1-f20e-4189-b8a7-941a6c4164d6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at exam1_Ticket.Services.TicketService.EditBookedTicket(Guid bookedTicketId, EditBookedTicketRequest request) in C:\Magang\exam1\exam1_Ticket\Services\TicketService.cs:line 476
   at exam1_Ticket.Controllers.TicketController.EditBookedTicket(Guid BookedTicketId, EditBookedTicketRequest request) in C:\Magang\exam1\exam1_Ticket\Controllers\TicketController.cs:line 235
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-02-14 13:42:17.424 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 500 null text/plain; charset=utf-8 12.4602ms
2025-02-14 13:45:18.265 +07:00 [INF] ðŸš€ Application is starting...
2025-02-14 13:45:18.389 +07:00 [INF] Now listening on: http://localhost:5038
2025-02-14 13:45:18.455 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-14 13:45:18.456 +07:00 [INF] Hosting environment: Development
2025-02-14 13:45:18.456 +07:00 [INF] Content root path: C:\Magang\exam1\exam1_Ticket
2025-02-14 13:45:18.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/index.html - null null
2025-02-14 13:45:18.663 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/index.html - 200 null text/html;charset=utf-8 110.1865ms
2025-02-14 13:45:18.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_vs/browserLink - null null
2025-02-14 13:45:18.672 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - null null
2025-02-14 13:45:18.674 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.6043ms
2025-02-14 13:45:18.692 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.5585ms
2025-02-14 13:45:18.837 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - null null
2025-02-14 13:45:18.844 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.8384ms
2025-02-14 13:45:43.115 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - null null
2025-02-14 13:45:43.122 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:45:43.143 +07:00 [INF] Route matched with {action = "GetBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBookedTicket(System.Guid) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:45:43.193 +07:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2025-02-14 13:45:43.991 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [BookedTiket] AS [b]
        WHERE [b].[BookedTicketId] = @__bookedTicketId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-14 13:45:44.136 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[c], [t0].[CategoryName], [t1].[TicketCode], [t1].[TicketName], [t1].[TanggalEvent], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId], [t1].[TicketId0]
FROM (
    SELECT COALESCE(SUM([b].[Quantity]), 0) AS [c], [c].[CategoryName]
    FROM [BookedTiket] AS [b]
    INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
    INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
    WHERE [t].[Quota] > 0 AND [b].[BookedTicketId] = @__bookedTicketId_0
    GROUP BY [c].[CategoryName]
) AS [t0]
LEFT JOIN (
    SELECT [t3].[TicketCode], [t3].[TicketName], [t3].[TanggalEvent], [b0].[BookedTicketId], [t2].[TicketId], [c0].[CategoryId], [t3].[TicketId] AS [TicketId0], [c0].[CategoryName]
    FROM [BookedTiket] AS [b0]
    INNER JOIN [Ticket] AS [t2] ON [b0].[TicketId] = [t2].[TicketId]
    INNER JOIN [Category] AS [c0] ON [t2].[CategoryId] = [c0].[CategoryId]
    INNER JOIN [Ticket] AS [t3] ON [b0].[TicketId] = [t3].[TicketId]
    WHERE [t2].[Quota] > 0 AND [b0].[BookedTicketId] = @__bookedTicketId_0
) AS [t1] ON [t0].[CategoryName] = [t1].[CategoryName]
ORDER BY [t0].[CategoryName], [t1].[BookedTicketId], [t1].[TicketId], [t1].[CategoryId]
2025-02-14 13:45:44.148 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`3[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:45:44.169 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket) in 1022.1168ms
2025-02-14 13:45:44.170 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.GetBookedTicket (exam1_Ticket)'
2025-02-14 13:45:44.179 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5038/api/v1/get-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 200 null application/json; charset=utf-8 1064.317ms
2025-02-14 13:45:50.997 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 86
2025-02-14 13:45:50.999 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:45:51.004 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:45:51.073 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:45:51.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:45:51.149 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:45:51.150 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 146.4164ms
2025-02-14 13:45:51.151 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:45:51.151 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 400 null application/json; charset=utf-8 153.6062ms
2025-02-14 13:46:11.263 +07:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - application/json 88
2025-02-14 13:46:11.264 +07:00 [INF] Executing endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:46:11.264 +07:00 [INF] Route matched with {action = "EditBookedTicket", controller = "Ticket"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditBookedTicket(System.Guid, exam1_Ticket.Model.EditBookedTicketRequest) on controller exam1_Ticket.Controllers.TicketController (exam1_Ticket).
2025-02-14 13:46:11.270 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookedTicketId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookedTicketId], [b].[Quantity], [b].[TanggalBooking], [b].[TicketId], [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName], [c].[CategoryId], [c].[CategoryName]
FROM [BookedTiket] AS [b]
INNER JOIN [Ticket] AS [t] ON [b].[TicketId] = [t].[TicketId]
INNER JOIN [Category] AS [c] ON [t].[CategoryId] = [c].[CategoryId]
WHERE [b].[BookedTicketId] = @__bookedTicketId_0
2025-02-14 13:46:11.273 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ticketRequest_TicketCode_0='?' (Size = 20) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[TicketId], [t].[CategoryId], [t].[Price], [t].[Quota], [t].[TanggalEvent], [t].[TicketCode], [t].[TicketName]
FROM [Ticket] AS [t]
WHERE [t].[TicketCode] = @__ticketRequest_TicketCode_0
2025-02-14 13:46:11.273 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType10`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-14 13:46:11.274 +07:00 [INF] Executed action exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket) in 9.8317ms
2025-02-14 13:46:11.274 +07:00 [INF] Executed endpoint 'exam1_Ticket.Controllers.TicketController.EditBookedTicket (exam1_Ticket)'
2025-02-14 13:46:11.274 +07:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5038/api/v1/api/v1/edit-booked-ticket/3EF41250-E511-49C7-95FC-25F7E7BE1E2E - 400 null application/json; charset=utf-8 10.4293ms
